{
  "bindAddress": "0.0.0.0",
  "mongo": {
    "url": "mongodb://localhost/openhim",
    "atnaUrl": "mongodb://localhost/openhim",
    "connectionOptions": {},
    "openHIMApiReadPreference": "primaryPreffered",
    "openHIMApiWriteConcern": 1,
    "openHIMApiReadConcern": "local"
  },
  "logger": {
    "level": "info",
    "logToDB": true,
    "capDBLogs": true,
    "capSize": 10000000
  },
  "mongoLogger": {
    "options": {
      "w": 0
    }
  },
  "router": {
    "externalHostname": "localhost",
    "httpPort": 5001,
    "httpsPort": 5000,
    "timeout": 7200000
  },
  "bodyCull":{
    "enabled": true,
    "pollPeriodMins": 5
  },
  "api": {
    "enabled" : true,
    "httpsPort": 8080,
    "authWindowSeconds": 10,
    "maxBodiesSizeMB": 15,
    "maxPayloadSizeMB": 300,
    "truncateSize": 15000,
    "truncateAppend": "\n[truncated ...]"
  },
  "rerun": {
    "httpPort": 7786,
    "host": "localhost",
    "processor": {
      "enabled": true,
      "pollPeriodMillis": 2000
    }
  },
  "tcpAdapter": {
    "httpReceiver": {
      "httpPort": 7787,
      "host": "localhost"
    }
  },
  "polling": {
    "enabled": true,
    "pollingPort": 7788,
    "host": "localhost"
  },
  "authentication": {
    "enableMutualTLSAuthentication": true,
    "enableBasicAuthentication": true
  },
  "email": {
    "fromAddress": "noreply@datim.org",
    "nodemailer": {
      "service": "",
      "host": "email-smtp.us-east-1.amazonaws.com",
      "auth": {
        "pass": "{{ smtp_access_key }}",
        "user": "{{ smtp_secret_key }}"
      }
    }
  },
  "smsGateway": {
    "provider": "clickatell",
    "config": {
      "user": "user",
      "pass": "pass",
      "apiID": "apiID"
    }
  },
  "alerts": {
    "enableAlerts": true,
    "pollPeriodMinutes": 1,
    "himInstance": "{{ openhim_server_public_hostname }}",
    "consoleURL": "https://{{ openhim_server_public_hostname }}"
  },
  "reports": {
    "enableReports": true,
    "dailyReportAt": "0 7 * * *",
    "weeklyReportAt": "0 7 * * 1"
  },
  "events": {
    "enableTSNormalization": true
  },
  "statsd": {
    "enabled": false,
    "host": "127.0.0.1"
  },
  "application": {
    "name": "Development"
  },
  "newUserExpiry": {
    "duration": 7,
    "durationType": "days"
  },
  "userPasswordResetExpiry": {
    "duration": 1,
    "durationType": "hours"
  },
  "auditing": {
    "servers": {
      "udp": {
        "enabled": false,
        "port": 5050
      },
      "tls": {
        "enabled": false,
        "port": 5051
      },
      "tcp": {
        "enabled": false,
        "port": 5052
      }
    },
    "auditEvents": {
      "interface": "internal",
      "host": "localhost",
      "port": 5051,
      "auditSourceID": "OpenHIM"
    }
  },
  "caching": {
    "enabled": true,
    "refreshMillis": 1000
  },
  "tlsClientLookup": {
    "type": "strict"
  },
  "agenda": {
    "startupDelay": 500
  },
  "certificateManagement": {
    "watchFSForCert": {{ watch_lets_encrypt_certs }},
    "certPath": "/etc/letsencrypt/live/{{ openhim_server_public_hostname }}/fullchain.pem",
    "keyPath": "/etc/letsencrypt/live/{{ openhim_server_public_hostname }}/privkey.pem"
  }
}
